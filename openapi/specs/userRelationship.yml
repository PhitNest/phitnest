tags:
  - name: User Relationship
    description: User relationship database endpoint

paths:
  # /userRelationship/sendRequest
  sendRequest:
    post:
      tags:
        - User Relationship
      summary: Send/Accept a friend request
      security:
        - AccessToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - recipientId
              properties:
                recipientId:
                  type: string
                  example: fgd9s033n-f42fdnskfrlkg-fdg431ffgf-f4wsdf4yh
      responses:
        200:
          description: The friend request was sent/accepted
        500:
          description: An internal error occurred
          content:
            text/plain:
              schema:
                type: string
                example: Validation error has occurred.
  # /userRelationship/denyRequest
  denyRequest:
    post:
      tags:
        - User Relationship
      summary: Deny a friend request
      security:
        - AccessToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - recipientId
              properties:
                recipientId:
                  type: string
                  example: fgd9s033n-f42fdnskfrlkg-fdg431ffgf-f4wsdf4yh
      responses:
        200:
          description: The friend request was denied
        500:
          description: An internal error occurred
          content:
            text/plain:
              schema:
                type: string
                example: Validation error has occurred.
  # /userRelationship/block
  block:
    post:
      tags:
        - User Relationship
      summary: Block a user
      security:
        - AccessToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - recipientId
              properties:
                recipientId:
                  type: string
                  example: fgd9s033n-f42fdnskfrlkg-fdg431ffgf-f4wsdf4yh
      responses:
        200:
          description: The user was blocked
        500:
          description: An internal error occurred
          content:
            text/plain:
              schema:
                type: string
                example: Validation error has occurred.

  # /userRelationship/unblock
  unblock:
    post:
      tags:
        - User Relationship
      summary: Unblock a user
      security:
        - AccessToken: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - recipientId
              properties:
                recipientId:
                  type: string
                  example: fgd9s033n-f42fdnskfrlkg-fdg431ffgf-f4wsdf4yh
      responses:
        200:
          description: The user was blocked
        500:
          description: An internal error occurred
          content:
            text/plain:
              schema:
                type: string
                example: Validation error has occurred.

  # /userRelationship/sentRequests
  sentRequests:
    get:
      tags:
        - User Relationship
      summary: Get all of my pending sent friend requests
      security:
        - AccessToken: []
      responses:
        200:
          description: Got my pending requests
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserPublic"
        500:
          description: An internal error occurred
          content:
            text/plain:
              schema:
                type: string
                example: Validation error has occurred.

  # /userRelationship/friends
  friends:
    get:
      tags:
        - User Relationship
      summary: Get all of my friends public data
      security:
        - AccessToken: []
      responses:
        200:
          description: Got my friends data
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/UserPublic"
        500:
          description: An internal error occurred
          content:
            text/plain:
              schema:
                type: string
                example: Validation error has occurred.

components:
  schemas:
    UserPublic:
      title: public user
      required:
        - cognitoId
        - gymId
        - firstName
        - lastName
      type: object
      properties:
        cognitoId:
          type: string
          example: fgd9s033n-f42fdnskfrlkg-fdg431ffgf-f4wsdf4yh
        gymId:
          type: string
          example: 6361c05b30d64fe62ff485cb
        firstName:
          type: string
          example: Jp
        lastName:
          type: string
          example: Siegel
